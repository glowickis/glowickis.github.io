!function(e){function t(e,t){switch(!0){case!!this.addEventListener:this.addEventListener(e,t);break;case!!o.attachEvent:this.attachEvent("on"+e,t);break;default:this["on"+e]=t}}function a(e,t){switch(!0){case!!this.removeEventListener:this.addEventListener(e,t);break;case!!o.detachEvent:this.attachEvent("on"+e,t);break;default:this["on"+e]=null}}function n(n){var i=document.createElement("canvas"),d=i.getContext("2d");if(i.id=n,e.B64[n]){var r=e.B64[n],s=parseInt(r.width),o=parseInt(r.height);i.width=s,i.height=o;for(var c in r)"jpeg"!=c&&"mask"!=c&&(i.style[c]=r[c]);var l=new Image,h=new Image;if(""!=r.mask){var g=document.createElement("canvas"),v=g.getContext("2d");g.width=s,g.height=o,h.onload=function(t){v.drawImage(t.target,0,0,s,o);var a=document.createElement("canvas"),c=a.getContext("2d");a.width=s,a.height=o,l.onload=function(t){c.drawImage(t.target,0,0,s,o);for(var r=c.getImageData(0,0,s,o),m=v.getImageData(0,0,s,o),w=0;w<m.data.length;w+=4)r.data[w+3]=m.data[w];d.putImageData(r,0,0),l=a=c=r=null,h=g=v=m=null,d=null,i.dispatchEvent(new Event("ready")),delete e.B64[n],e.B64[n]=i},l.src=r.jpeg,delete r.jpeg},h.src=r.mask,delete r.mask}else l.onload=function(t){d.drawImage(t.target,0,0,s,o),l=h=d=null,i.dispatchEvent(new Event("ready")),delete e.B64[n],e.B64[n]=i},l.src=r.jpeg,delete r.jpeg,delete r.mask}return i.append_listener=t,i.remove_listener=a,i}n.append_listener=t,n.remove_listener=a,e.Canvas=n}(window.top.glowicki=window.top.glowicki||new Object);