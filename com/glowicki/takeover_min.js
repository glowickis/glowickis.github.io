!function(e){function t(){var t=I("div","buttons",{top:0,width:e.takeover.settings.width,height:e.takeover.settings.collapsed,position:"absolute"});A(t),t.appendChild(S()),L.buttons=t,L.takeover.appendChild(L.buttons)}function o(){var t=I("div","pushdown",{width:e.takeover.settings.width,height:e.takeover.settings.collapsed,position:"relative"});A(t),L.pushdown=t,L.takeover.appendChild(L.pushdown),a(),n(),e.takeover.settings.height=e.takeover.settings.collapsed+e.takeover.settings.expanded}function a(){var t=I("div","collapsed",{top:0,width:e.takeover.settings.width,height:e.takeover.settings.collapsed,position:"absolute"});t.style.visibility="hidden";for(var o in e.B64)e.B64[o].jpeg&&e.B64[o].mask&&(e.takeover.collapsed[o]=new E(o),t.appendChild(e.takeover.collapsed[o]));L.collapsed=t,L.pushdown.appendChild(L.collapsed),e.takeover.collapsed.container=L.collapsed,e.takeover.setup()}function n(){var t=I("div","expanded",{top:e.takeover.settings.collapsed,width:e.takeover.settings.width,height:e.takeover.settings.expanded,position:"absolute"});if(t.style.backgroundColor="#000000",e.Videoplayer){var o={preload:"metadata",autoplay:!1,loop:!1,muted:!1,titles:!0,fullscreen:!0,controls:"both",time_duration:"both"},a=[{title:e.takeover.settings.title,src:e.takeover.settings.trailer,poster:e.takeover.settings.poster}];e.takeover.videoplayer=new e.Videoplayer(t,o,a)}L.expanded=t,L.pushdown.appendChild(L.expanded)}function i(){var t=I("div","takeover",{width:e.takeover.settings.width,height:e.takeover.settings.collapsed,position:"relative",overflow:"visible"});switch(A(t),L.takeover=t,L.content.appendChild(L.takeover),r(),o(),s(),e.takeover.settings.takeover){case"intro":d();break;case"overlay":l();break;case"rumble":p();break;case"video":v()}}function r(){var e=I("div","overlay_background",{top:0,width:0,height:0,position:"absolute"});e.style.visibility="hidden",L.overlay_background=e,L.takeover.appendChild(L.overlay_background)}function s(){var e=I("div","overlay_foreground",{top:0,width:0,height:0,position:"absolute"});e.style.visibility="hidden",L.overlay_foreground=e,L.takeover.appendChild(L.overlay_foreground)}function d(){}function l(){var t=I("video","intro",{position:"absolute"});t.preload="metadata",t.autoplay=!1,t.controls=!1,t.loop=!1,t.muted=!1,t.time_update=setInterval(c,1e3/30),t.src=e.takeover.settings.src,L.video=t,1==e.takeover.settings.takeover_top?L.overlay_background.appendChild(L.video):L.overlay_foreground.appendChild(L.video)}function p(){}function v(){}function c(){L.video&&(L.object.readyState!=String(L.video.readyState)&&(L.object.readyState=String(L.video.readyState),h(L.object.readyState)),L.object.ended!=String(L.video.ended)&&(L.object.ended=String(L.video.ended),u(L.object.ended)),L.object.paused!=String(L.video.paused)&&(L.object.paused=String(L.video.paused),g(L.object.paused)))}function h(t){switch(t){case"0":L.object.readyText="HAVE_NOTHING";break;case"1":L.object.readyText="HAVE_METADATA",y("metadata"),L.video.style.width=L.video.videoWidth+"px",L.video.style.height=L.video.videoHeight+"px",A(L.video),L.video.parentNode.style.width=L.video.videoWidth+"px",L.video.parentNode.style.height=L.video.videoHeight+"px",A(L.video.parentNode);break;case"2":L.object.readyText="HAVE_CURRENT_DATA";break;case"3":L.object.readyText="HAVE_FUTURE_DATA";break;case"4":L.object.readyText="HAVE_ENOUGH_DATA","expanded"==e.takeover.state&&L.video.play();break;default:L.object.readyText="HAVE_UNKOWN"}}function u(e){switch(e){case"true":y("ended"),L.video.parentNode.style.opacity=0,L.video.parentNode.style.visibility="hidden",L.video.currentTime=0,L.video.pause(),expand();break;case"false":y("loading")}}function g(e){if("ended"!=L.object.state)switch(e){case"true":y("paused");break;case"false":y("playing"),L.video.parentNode.style.visibility="visible"}}function y(e){L.object.state=e}function k(){var t=I("div","body",{width:e.takeover.settings.width,height:e.takeover.settings.width,position:"relative"});switch(t.style.zIndex=L.content.style.zIndex,A(t),!0){case 0==e.takeover.settings.page.indexOf("#"):t.style.backgroundColor=e.takeover.settings.page,t.innerHTML="&nbsp;";break;case!!e.B64[e.takeover.settings.page]:}L.body=t,L.content.appendChild(L.body)}function b(){var e=I("div","footer",{left:0,width:"100%",position:"relative"});e.style.marginTop="32px",L.footer=e,L.container.appendChild(L.footer),f(),w()}function f(){var t=I("div","footer_background",{left:0,bottom:0,width:"100%",position:"absolute"});if(e.B64.hasOwnProperty("footer_background")){var o=new E("footer_background");o.image.append_listener("ready",function(t){L.footer_background.style.height=t.target.height+"px",L.footer.style.height=t.target.height+"px",L.footer_background.style.backgroundAttachment="scroll",L.footer_background.style.backgroundColor=e.takeover.settings.hex,L.footer_background.style.backgroundImage='url("'+o.toDataURL()+'")',L.footer_background.style.backgroundPosition="0 0",L.footer_background.style.backgroundRepeat="repeat-x"})}L.footer_background=t,L.footer.appendChild(L.footer_background)}function w(){var t=I("div","footer_foreground",{bottom:0,width:0,height:0,position:"absolute"});if(e.B64.hasOwnProperty("footer")){var o=new E("footer");o.image.append_listener("ready",function(e){L.footer_foreground.style.width=e.target.width+"px",L.footer_foreground.style.height=e.target.height+"px",L.footer.style.height=Math.max(parseInt(L.footer.style.height)||0,e.target.height)+"px",A(L.footer_foreground);var t=I("img","footer",{width:e.target.width,height:e.target.height});t.src=o.toDataURL(),L.footer_foreground.appendChild(t)})}L.footer_foreground=t,L.footer.appendChild(L.footer_foreground)}function _(){var t=I("div","content",{top:0,width:e.takeover.settings.width,position:"relative",overflow:"visible"});A(t),L.content=t,L.container.appendChild(L.content),i(),k(),b()}function x(){var e=I("div","skin",{top:0,width:"100%",height:0,position:"absolute"});L.skin=e,L.container.appendChild(L.skin),m(),N()}function m(){var t=I("div","skin_background",{top:0,width:0,height:0,position:"absolute"});if(""!=e.takeover.settings.skin&&e.B64.hasOwnProperty(e.takeover.settings.skin)){var o=new E(e.takeover.settings.skin);o.image.append_listener("ready",function(e){L.skin_background.style.width=e.target.width+"px",L.skin_background.style.height=e.target.height+"px",L.skin.style.height=e.target.height+"px",A(L.skin_background);var t=I("img","skin",{width:e.target.width,height:e.target.height});t.src=o.toDataURL(),L.skin_background.appendChild(t)})}L.skin_background=t,L.skin.appendChild(L.skin_background)}function N(){var e=I("div","skin_foreground",{top:0,width:0,height:0,position:"absolute"});L.skin_foreground=e,L.skin.appendChild(L.skin_foreground)}function j(){var t=I("div","container",{left:0,top:0,width:"100%",height:"100%",position:"absolute",overflowX:"hidden",pointerEvents:"auto"});""!=e.takeover.settings.hex&&(t.style.backgroundColor=e.takeover.settings.hex),L.container=t,document.body.appendChild(L.container)}function C(){j(),x(),_(),t()}function S(){if(1==e.takeover.settings.buttons_invert)var t="#000000",o="rgba(255,255,255,0.75)";else var t="#FFFFFF",o="rgba(0,0,0,0.75)";var a="http://www.w3.org/2000/svg",n=document.createElementNS(a,"svg");n.setAttributeNS(null,"id","expand_collapse"),n.setAttributeNS(null,"viewBox","0 0 32 32");var i=document.createElementNS(a,"rect");i.setAttributeNS(null,"id","background"),i.setAttributeNS(null,"width","32"),i.setAttributeNS(null,"height","32"),i.setAttributeNS(null,"fill",o),n.appendChild(i);var r=document.createElementNS(a,"polygon");r.setAttributeNS(null,"id","foreground"),r.setAttributeNS(null,"points","22 12 23 13 16 20 9 13 10 12 16 18"),r.setAttributeNS(null,"fill",t),r.setAttributeNS(null,"opacity",.75),n.appendChild(r);var s=document.createElementNS(a,"rect");return s.setAttributeNS(null,"id","expand_collapse"),s.setAttributeNS(null,"width","32"),s.setAttributeNS(null,"height","32"),s.setAttributeNS(null,"fill","rgba(255,0,0,0)"),n.appendChild(s),e.takeover.button_expand=r,s.append_listener("mouseover",function(e){e.target.style.cursor="pointer",e.target.parentNode.getElementById("foreground").setAttributeNS(null,"opacity",1)}),s.append_listener("mouseout",function(e){e.target.style.cursor="auto",e.target.parentNode.getElementById("foreground").setAttributeNS(null,"opacity",.75)}),s.append_listener("click",function(t){switch(e.takeover.state){case"expanded":collapse();break;case"collapsed":default:expand()}}),n.style.width=n.style.height="32px",n.style.top=n.style.right="0px",n.style.position="absolute",n.style.zIndex=9999,n}function E(t){if(0==arguments.length)return this;var o=this,a=e.B64[t],n=parseInt(a.width),i=parseInt(a.height);this.jpeg_canvas=document.createElement("canvas");var r=this.jpeg_canvas.getContext("2d");this.jpeg_canvas.id=t,this.jpeg_canvas.width=n,this.jpeg_canvas.height=i;var s=new Image;this.jpeg_canvas.image=s,s.onload=function(e){if(r.drawImage(s,0,0,n,i),""!=a.mask){var t=r.getImageData(0,0,n,i),d=document.createElement("canvas"),l=d.getContext("2d");d.width=n,d.height=i;var p=new Image;p.onload=function(e){l.drawImage(p,0,0,n,i);for(var a=l.getImageData(0,0,n,i),v=0;v<a.data.length;v+=4)t.data[v+3]=a.data[v];r.putImageData(t,0,0),this.dispatchEvent(new Event("ready")),delete o.jpeg_canvas.image,d=l=s=p=null},p.src=a.mask,delete a.mask}else delete a.mask,this.dispatchEvent(new Event("ready")),delete o.jpeg_canvas.image,s=null},s.src=a.jpeg,delete a.jpeg;for(var d in a)"jpeg"!=d&&"mask"!=d&&(this.jpeg_canvas.style[d]=a[d]);return this.jpeg_canvas}function I(e,t,o){o=o||new Object;var a=document.createElement(e);a.id=t;for(var n in o){switch(n){case"left":case"right":case"top":case"bottom":case"width":case"height":if(String(o[n]).indexOf("%")<0)var i=parseInt(o[n])+"px";else var i=o[n];break;default:var i=o[n]}a.style[n]=i}return 0==o.hasOwnProperty("position")&&(a.style.position="relative"),0==o.hasOwnProperty("overflowX")&&0==o.hasOwnProperty("overflowY")&&0==o.hasOwnProperty("overflow")&&(a.style.overflow="hidden"),0==o.hasOwnProperty("pointerEvents")&&(a.style.pointerEvents="none"),0==o.hasOwnProperty("zIndex")&&(a.style.zIndex=B()),a}function A(e){"absolute"!=e.style.position&&"relative"!=e.style.position&&(e.style.postion="relative"),e.style.left="50%",e.style.marginLeft=0-parseInt(e.style.width)/2+"px"}function O(){e.takeover.settings&&e.B64&&(e.Takeover=this,C())}function T(){return O.apply(this),this}e.takeover=e.takeover||new Object,e.takeover.collapsed=e.takeover.collapsed||new Object,e.takeover.videoplayer=e.takeover.videoplayer||new Object,e.takeover.expand=expand=function(){switch(e.takeover.state="expanded",e.takeover.button_expand&&e.takeover.button_expand.setAttributeNS(null,"points","10 20 9 19 16 12 23 19 22 20 16 14"),e.takeover.collapsed.button_expand&&(e.takeover.collapsed.button_expand.style.opacity=0),!0){case L.video&&"ended"!=L.object.state:L.video.parentNode.style.opacity=0,L.video.parentNode.style.visibility="visible",L.video.parentNode.set_interval=setInterval(function(){var e=parseFloat(L.video.parentNode.style.opacity);e+.1>1?e+=.1:(e=1,clearInterval(L.video.parentNode.set_interval)),L.video.parentNode.style.opacity=e},1e3/30),"4"==L.object.readyState?L.video.play():L.video.load();break;default:L.takeover.style.height=L.pushdown.style.height=e.takeover.settings.height+"px",e.takeover.videoplayer.play()}},e.takeover.collapse=collapse=function(){e.takeover.state="collapsed",e.takeover.button_expand&&e.takeover.button_expand.setAttributeNS(null,"points","22 12 23 13 16 20 9 13 10 12 16 18"),e.takeover.collapsed.button_expand&&(e.takeover.collapsed.button_expand.fade_in=setInterval(function(){var t=parseFloat(e.takeover.collapsed.button_expand.style.opacity);1>t+.1?t+=.1:(t=1,clearInterval(e.takeover.collapsed.button_expand.fade_in)),e.takeover.collapsed.button_expand.style.opacity=t},1e3/30)),L.video&&(L.video.parentNode.style.opacity=0,L.video.parentNode.style.visibility="hidden",L.video.pause(),L.video.currentTime=0),L.takeover.style.height=L.pushdown.style.height=e.takeover.settings.collapsed+"px",e.takeover.videoplayer.pause(),e.takeover.videoplayer.seek()};var L=new Object;L.object=new Object,e.takeover.new_button=new_button=function(t,o,a){var n=a.parentNode,i=I("div",t),r=I("div",t);for(var s in a.style)i.style[s]=r.style[s]=a.style[s];r.style.zIndex=parseInt(o.style.zIndex)+parseInt(a.style.zIndex),o.style.left=parseInt(o.style.left)-parseInt(a.style.left)+"px",o.style.top=parseInt(o.style.top)-parseInt(a.style.top)+"px",a.style.left=a.style.top=r.style.left=r.style.top="0px",o.style.opacity=.75,i.appendChild(a),i.appendChild(o),i.appendChild(r),r.append_listener("mouseover",function(e){e.target.style.cursor="pointer",o.style.opacity=1}),r.append_listener("mouseout",function(e){e.target.style.cursor="auto",o.style.opacity=.75}),e.takeover.collapsed[t]=i,n.appendChild(e.takeover.collapsed[t])},Object.prototype.append_listener=function(e,t){switch(!0){case!!this.addEventListener:this.addEventListener(e,t);break;case!!this.attachEvent:this.attachEvent("on"+e,t);break;default:this["on"+e]=t}(String(e).toLowerCase().indexOf("mouse")>-1||String(e).toLowerCase().indexOf("click")>-1)&&(this.style.pointerEvents="auto")},Object.prototype.remove_listener=function(e,t){switch(!0){case!!this.removeEventListener:this.addEventListener(e,t);break;case!!this.removeEvent:this.attachEvent("on"+e,t);break;default:this["on"+e]=null}(String(e).toLowerCase().indexOf("mouse")>-1||String(e).toLowerCase().indexOf("click")>-1)&&(this.style.pointerEvents="none")};var B=function(){var e=0;return function(){return e+=10}}();T.prototype=new T,T.prototype.constructor=T,e.Takeover=T}(window.top.glowicki=window.top.glowicki||new Object);