<!DOCTYPE HTML>
<html>
	<head>
		<style>
			*{
				margin:0px;
				padding:0px;
				font:18px Arial, Helvetica, sans-serif;
			}
			html,body,form{
				width:100%;
				height:100%;
			}
			textarea{
				display:block;
				width:50%;
				height:100%;
				resize:none;
				box-sizing:border-box;
			}
			#string{
				float:left;
			}
			#encode{
				float:right;
				font-weight:bold;
			}
			#length{
				position:absolute;
				right:0px;
				bottom:0px;
				margin:10px;
				pointer-events:none;
			}
		</style>
	</head>
	<body>
		<div id='length'></div>
		<form>
			<textarea id='string' type='text'></textarea>
			<textarea id='encode' type='text'></textarea>
			<script>
				var length = document.getElementById('length');
				var string = document.getElementById('string');
				var encode = document.getElementById('encode');
				
				string.oninput = function(){
					var value = this.value;
					// whitespace
					value = value.split(' ').join('');
					
					value = window.btoa(value);
					// ==
					value = value.split('=').join('');
					
					length.innerHTML = value.length;
					
					console.clear();
					console.log('length:', value.length);
					
					for(var i = 1; i < value.length; i++){
						if(value[i - 1] === value[i]){
							var doubles = true;
							break;
						}else{
							var doubles = false;
						}
					}
					console.log('doubles:', doubles);
					
					switch(true){
						case(doubles):
						case(value.length < 4):
							encode.style.color = '#FF0000';
							break;
						case(value.length < 8):
							encode.style.color = '#FF8000';
							break;
						case(value.length < 16):
							encode.style.color = '#BFBF00';
							break;
						default:
							encode.style.color = '#008000';
							break;
					}
					
					encode.value = value;
					
					//console.log('value:', value);
				};
			</script>
		</form>
	</body>
</html>
